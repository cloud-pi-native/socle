---
# https://kubernetes.io/docs/concepts/configuration/configmap/
kind: DsoSocleConfig
apiVersion: cloud-pi-native.fr/v1alpha
metadata:
  name: conf-dso
spec:
  argocd:
    namespace: dso-argocd
    subDomain: argocd
  cloudnativepg:
    namespace: dso-cloudnativepg
  console:
    namespace: dso-console
    subDomain: console
  gitlabOperator:
    namespace: dso-gitlab-operator
  gitlab:
    namespace: dso-gitlab
    subDomain: gitlab
    insecureCI: false
    pvcGitalySize: 50Gi
  grafana:
    namespace: dso-grafana
    subDomain: grafana
    grafanaPvcSize: 5Gi
  grafanaOperator:
    namespace: dso-grafana-operator
  harbor:
    namespace: dso-harbor
    subDomain: harbor
    nginx:
      replicas: 2
    portal:
      replicas: 2
    core:
      replicas: 3
    registry:
      pvcSize: 50Gi
      replicas: 3
    jobService:
      pvcJobLogSize: 5Gi
      replicas: 2
    database:
      pvcSize: 10Gi
    redis: 
      pvcSize: 5Gi
      replicas: 1
    trivy:
      pvcSize: 10Gi
      replicas: 2
  keycloak:
    namespace: dso-keycloak
    subDomain: keycloak
    postgresPvcSize: 1Gi
  kyverno:
    namespace: dso-kyverno
  nexus:
    namespace: dso-nexus
    subDomain: nexus
    storageSize: 25Gi
    proxyCacheSize: 25Gi
    replicas: 1
  sonarqube:
    namespace: dso-sonarqube
    subDomain: sonar
    postgresPvcSize: 5Gi
  vault:
    namespace: dso-vault
    subDomain: vault
    pvcSize: 23Gi
